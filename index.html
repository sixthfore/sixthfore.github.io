
<script src="https://d3js.org/d3.v4.0.0-alpha.50.min.js"></script>
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script type="text/javascript">
<!--

/*
 *      Dynamically Tabbed Welcome Table v2
 *      Generated by the DTT Generator
 *      Created By Jordan a.k.a. Triad
 *      Modified By Sixthfore for Personal Use
 *      http://support.proboards.com
 */

var DTT = {
  selected: {
    id: "welcome",
    listItem: {}
    },
  $: function(id) {
    if(id)
      return document.getElementById(id);
    return false;
  },
  init: function() {
    var tCookie = this.getCookie();
    if(tCookie.tab) {
      this.toggleTab(tCookie.tab);
    }
    if(tCookie.show == "0") {
      this.$("pro_collapse").style.display = "none";
    }
  },

  setCookie: function(tab, show) {
    var tTab = "";
    var tShow = "";
    var tCookie = this.getCookie();

    if(tab)
      tTab = tab;
    else
      tTab = (tCookie.tab) ? tCookie.tab : this.selected.id;

    if(show)
      tShow = show;
    else
      tShow = (tCookie.show) ? tCookie.show : "1";

    document.cookie = "DTTData=tab=" + encodeURI(tTab) + "|show=" + encodeURI(tShow) + ";expires=Sat, 20 Jan 3000 12:12:12 UTC; path=/;";
  },

  getCookie: function() {
    if(document.cookie.match(new RegExp("DTTData=(.+?)($|;)","gi"))) {
      var data = decodeURI(RegExp.$1);

      return {
        tab: data.split("=")[1].split("|")[0],
        show: data.split("=")[2]
      };
    }

    return false;
  },

  toggleTab: function(id) {
    var newID = id.substr(4);

    if(this.selected.id != newID && this.$(id)) {
      if(this.$("nav_" + this.selected.id)) {
        this.$("nav_" + this.selected.id).className = "tabbg";
        this.$("pro_" + this.selected.id).style.display = "none";
      }

      this.selected.id = newID;
      this.$("nav_" + this.selected.id).className = "tabbgselected";
      this.$("pro_" + this.selected.id).style.display = "";

      this.setCookie(id, false);
    }
  },

  toggleTable: function() {
    if(this.$("pro_collapse").style.display == "") {
      this.$("pro_collapse").style.display = "none";
      this.setCookie(false, "0");
    }
    else {
      this.$("pro_collapse").style.display = "";
      this.setCookie(false, "1");
    }
  },

  toggleListItem: function(id, name) {
    if(this.selected.listItem[id]) {
      if(this.selected.listItem[id].name == name) {
        if(this.selected.listItem[id].object.style.display == "") {
          this.selected.listItem[id].object.style.display = "none";
          this.$("pro_" + id + "_default").style.display = "";
        }
        else {
          this.$("pro_" + id + "_default").style.display = "none";
          this.selected.listItem[id].object.style.display = "";
        }
        return true;
      }
      else
        this.selected.listItem[id].object.style.display = "none";
    }

    this.selected.listItem[id] = {
      name: name,
      object: this.$("pro_" + id + "_" + name)
    };

    this.$("pro_" + id + "_default").style.display = "none";
    this.selected.listItem[id].object.style.display = "";
  }
};

//-->
</script>

<link rel="stylesheet" type="text/css" href="style.css">

<table width="92%" align="center" cellspacing="1" cellpadding="0" class="bordercolor">
  <tr>
    <td class="titlebg" align="center" colspan="2" style="padding: 4px; cursor: pointer;" onclick="DTT.toggleTable();">
      <font size="2">
        Home
      </font>
    </td>
  </tr>
  <tr id="pro_collapse" style="display:;">
    <td width="70%" align="center" class="windowbg" valign="top">
      <table width="100%" cellspacing="0" cellpadding="4">
       
        <tr id="pro_tabs">
          <td class="tabbgselected" onclick="DTT.toggleTab(this.id);"
            id="nav_welcome">Crops</td>
          <td class="tabbg" onclick="DTT.toggleTab(this.id);" 
            id="nav_tip">Soil
          Stats</td>
          <td class="tabbg" onclick="DTT.toggleTab(this.id);"
            id="nav_tabcolor">Drops</td>
          <td class="tabbg" onclick="DTT.toggleTab(this.id);" 
            id="nav_staff"
            style="border-right: none;">Fish</td>
        </tr>

        <tr>
          <td class="windowbg" id="pro_content" colspan="4">
            
            <!-- FIRST TAB --!>
            <div id="pro_welcome">
              Search: <input id="search" type="text">

              <p><a href="/index.cgi?action=register">Make an account</a>.
              Maintain a saved checklist.</p>

              <div id="theTableThing"></div>
            </div>

            <!-- SECOND TAB --!>
            <div id="pro_tip" style="display: none;">
            Filler
            </div>

            <!-- THIRD TAB --!>
            <div id="pro_tabcolor" style="display: none;">
            Filler
            </div>

            <!-- FOURTH TAB --!>
            <div id="pro_staff" style="display: none;">
              <p style="text-align: center; font-weight: bold; margin: 10px;">
                <a href="Javascript:void(0);" onclick="DTT.toggleListItem('staff','admin');"><font size="2">Admin</font></a> :: 
                <a href="Javascript:void(0);"
                  onclick="DTT.toggleListItem('staff','jordan');"><font
                    size="2">Sixthfore</font></a>
              </p>
              <div id="pro_staff_default" style="text-align: center; margin-top: 35px; display:;">
              </div>
              <div id="pro_staff_admin" style="display: none;">
                <p><b>Name:</b> Admin</p>
                <p><b>Forum Rank:</b> Administrator</p>
                <div style="margin-left: 10px;">
                  <p>Hi, I'm Admin.</p>
                  <p>Another paragraph here.</p>
                </div>
              </div>
              <div id="pro_staff_jordan" style="display: none;">
                <p><b>Name:</b> Sixthfore</p>
                <p><b>Forum Rank:</b> Moderator</p>
                <div style="margin-left: 10px;">
                  <p>Hi, I'm a moderator on this forum.</p>
                  <p>Another paragraph here.</p>
                </div>
              </div>
            </div>


          </td>
        </tr>
      </table>
    </td>
    <td width="30%" class="windowbg" valign="top">
      <table width="100%" cellspacing="0" cellpadding="4">
        <tr id="pro_sidebar">
          <td align="center" class="tabbg" style="border-right: none;">
            Important Links
          </td>
        </tr>
        <tr>
          <td class="windowbg" valign="top">
            <div id="pro_threads">
              <a href="/">Section Header</a>
              <div style="margin: 5px 0px 0px 20px;">
                - <a href="/">Link One</a><br />
                - <a href="/">Link Two</a><br />
                - <a href="/">Link Three</a><br />
                - <a href="/">Link Four</a><br />
                - <a href="/">Link Five</a><br />
                - <a href="/">Link Six</a>
              </div>
            </div>
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>


<script type="text/javascript">
<!--

DTT.init();

//-->
</script>

<script type="text/javascript"charset="utf-8">
d3.text("crops.csv", function(data) {
    var parsedCSV = d3.csv.parseRows(data);
    var search = document.getElementById('search')

    search.addEventListener('input', function() {
      displayFilteredColumns(search.value);
    });

    var displayFilteredColumns = function(query) {
    query = query || '';
      var filteredCSV = parsedCSV.map(function(row) {
        return row.filter(function(col, idx) {
          return parsedCSV[0][idx].indexOf(query) >= 0 || idx == 0;
        });
      });

      document.getElementById("theTableThing").innerHTML =  '';
      var container = d3.select("#theTableThing")
        .append("table")
        .selectAll("tr")
            .data(filteredCSV).enter()
            .append("tr")
        .selectAll("td")
            .data(function(d) { return d; }).enter()
            .append("td")
            .text(function(d) { return d; });
    };
    displayFilteredColumns();

    });
</script>
